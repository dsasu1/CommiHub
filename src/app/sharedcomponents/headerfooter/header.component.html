<!-- Modern Material Design Header -->
<header class="modern-header" id="site-header">
  <div class="header-container">
    <!-- Page Title Section -->
    <div class="header-title-section">
      <div class="page-title">
        <h5 class="title-text">{{title | translate}}</h5>
      </div>
    </div>

    <!-- Header Controls Section -->
    <div class="header-controls">
      <!-- Notification Bell -->
      <div class="control-item notification-control" *ngIf="isLoggedIn">
        <div class="notification-wrapper">
          <i [ngClass]="{'notification-icon': true, 'has-notifications': unseenNotificationCount > 0}">notifications</i>
          <span class="notification-badge" *ngIf="unseenNotificationCount > 0">
            {{unseenNotificationCount}}
          </span>
        </div>

        <div class="notification-dropdown">
          <div class="dropdown-header">
            <h6 class="dropdown-title">{{'Notifications' | translate}}</h6>
          </div>
          <div class="dropdown-content">
            <app-notificationlist></app-notificationlist>
          </div>
          <div class="dropdown-footer">
            <a routerLink="/notification" class="view-all-link">{{'ViewAll' | translate}}</a>
          </div>
        </div>
      </div>

      <!-- User Profile Section -->
      <div class="control-item user-profile" *ngIf="isLoggedIn">
        <div class="user-wrapper">
          <div class="user-avatar">
            <img [src]="GetImageUrl()" (error)="$event.target.src = '../../../assets/img/avatar1.jpg'" alt="User Avatar"
              class="avatar-img">
            <div class="online-indicator"></div>
          </div>
          <span class="user-name">{{currentUser?.userVM?.firstName}}</span>
          <i class="dropdown-icon">keyboard_arrow_down</i>
        </div>

        <div class="user-dropdown">
          <div class="dropdown-content">
            <app-globalmenu></app-globalmenu>
          </div>
        </div>
      </div>

      <!-- Guest User Section -->
      <div class="control-item guest-profile" *ngIf="!isLoggedIn">
        <div class="guest-wrapper">
          <div class="guest-avatar">
            <i class="guest-icon">person</i>
          </div>
          <span class="guest-name">{{'Guest' | translate}}</span>
          <i class="dropdown-icon">keyboard_arrow_down</i>
        </div>

        <div class="guest-dropdown">
          <div class="dropdown-content">
            <app-globalmenu></app-globalmenu>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Mobile Responsive Header -->
<header class="modern-header mobile-header" id="site-header-responsive">
  <div class="header-container">
    <div class="mobile-controls">
      <!-- Mobile Notification Bell -->
      <div class="mobile-control-item" *ngIf="isLoggedIn" (click)="routeToNotification()">
        <div class="mobile-notification-wrapper">
          <i
            [ngClass]="{'mobile-notification-icon': true, 'has-notifications': unseenNotificationCount > 0}">notifications</i>
          <span class="mobile-notification-badge" *ngIf="unseenNotificationCount > 0">
            {{unseenNotificationCount}}
          </span>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- Error Messages -->
<app-errormessage [appMsg]="headerInfoMessage"></app-errormessage>

<!-- Header Spacer -->
<div class="header-spacer"></div>