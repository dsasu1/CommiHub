{"ast":null,"code":"import { AppsessionService } from '../../service/appsession.service';\nimport { ActivatedRoute } from \"@angular/router\";\nimport { UsersService } from '../../service/model.service';\nimport { User } from '../../model/users.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../service/appsession.service\";\nimport * as i2 from \"../../service/model.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../sharedcomponents/progressbar/progressbar.component\";\nimport * as i6 from \"@ngx-translate/core\";\n\nfunction AccountconfirmComponent_app_progressbar_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-progressbar\");\n  }\n}\n\nfunction AccountconfirmComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"div\", 4)(3, \"div\", 5)(4, \"div\", 6)(5, \"h4\", 7);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"div\", 3)(9, \"div\", 9);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 3)(13, \"div\", 9)(14, \"a\", 10);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"translate\");\n    i0.ɵɵelementEnd()()()()()()()();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r1.header);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(11, 3, \"AccountConfirmMessage\"), \" \");\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 5, \"LogIn\"));\n  }\n}\n\nexport let AccountconfirmComponent = /*#__PURE__*/(() => {\n  class AccountconfirmComponent {\n    constructor(appsession, userSource, activeRoute) {\n      this.appsession = appsession;\n      this.userSource = userSource;\n      this.activeRoute = activeRoute;\n      this.isDoneLoading = false;\n      this.titleKey = \"ConfirmAccount\";\n    }\n\n    ngOnInit() {\n      let code = this.activeRoute.snapshot.params[\"id\"];\n\n      if (code == null) {\n        this.appsession.redirectToRoute();\n        return;\n      }\n\n      this.appsession.SetAppTitle(this.titleKey);\n      let user = new User();\n      user.vericationCodeId = code;\n      this.userSource.confirmUser(user).subscribe(data => {\n        this.header = this.appsession.getTranslated(\"AccountConfirmSuccess\");\n        this.isDoneLoading = true;\n        return;\n      }, error => {\n        let messages = this.appsession.getHttpErrorMessages(error);\n        this.header = messages[0];\n        this.isDoneLoading = true;\n        return;\n      });\n    }\n\n  }\n\n  AccountconfirmComponent.ɵfac = function AccountconfirmComponent_Factory(t) {\n    return new (t || AccountconfirmComponent)(i0.ɵɵdirectiveInject(i1.AppsessionService), i0.ɵɵdirectiveInject(i2.UsersService), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n  };\n\n  AccountconfirmComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AccountconfirmComponent,\n    selectors: [[\"app-accountconfirm\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[4, \"ngIf\"], [\"class\", \"container\", 4, \"ngIf\"], [1, \"container\"], [1, \"row\"], [1, \"col-xl-9\", \"col-lg-9\", \"col-md-12\", \"col-sm-12\", \"col-xs-12\"], [1, \"ui-block\"], [1, \"ui-block-title\"], [1, \"title\"], [1, \"ui-block-content\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-12\", \"col-xs-12\"], [\"routerLink\", \"\", 1, \"btn\", \"btn-blue\"]],\n    template: function AccountconfirmComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AccountconfirmComponent_app_progressbar_0_Template, 1, 0, \"app-progressbar\", 0);\n        i0.ɵɵtemplate(1, AccountconfirmComponent_div_1_Template, 17, 7, \"div\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.isDoneLoading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isDoneLoading);\n      }\n    },\n    directives: [i4.NgIf, i5.ProgressbarComponent, i3.RouterLinkWithHref],\n    pipes: [i6.TranslatePipe],\n    encapsulation: 2\n  });\n  return AccountconfirmComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}