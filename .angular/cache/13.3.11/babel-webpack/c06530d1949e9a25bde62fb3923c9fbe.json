{"ast":null,"code":"import { TranslateService } from '@ngx-translate/core';\nimport { AppsessionService } from '../../service/appsession.service';\nimport { GlobalService } from '../../service/model.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngx-translate/core\";\nimport * as i2 from \"../../service/appsession.service\";\nimport * as i3 from \"../../service/model.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\n\nconst _c0 = function () {\n  return [\"/settings\"];\n};\n\nfunction GlobalmenuComponent_li_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 4);\n    i0.ɵɵelement(2, \"i\", 14);\n    i0.ɵɵelementStart(3, \"span\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c0));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"Settings\"));\n  }\n}\n\nconst _c1 = function () {\n  return [\"\"];\n};\n\nfunction GlobalmenuComponent_li_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 15);\n    i0.ɵɵelement(2, \"i\", 16);\n    i0.ɵɵelementStart(3, \"span\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(4, _c1));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"LogIn\"));\n  }\n}\n\nfunction GlobalmenuComponent_li_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 17);\n    i0.ɵɵlistener(\"click\", function GlobalmenuComponent_li_13_Template_a_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.logOutUser();\n    });\n    i0.ɵɵelement(2, \"i\", 18);\n    i0.ɵɵelementStart(3, \"span\", 6);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"LogOut\"));\n  }\n}\n\nfunction GlobalmenuComponent_a_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"a\", 19);\n    i0.ɵɵlistener(\"click\", function GlobalmenuComponent_a_26_Template_a_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const uiLanguage_r6 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.switchLanguage(uiLanguage_r6);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const uiLanguage_r6 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"hidden\", ctx_r3.currentValueLang == uiLanguage_r6.lang);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(uiLanguage_r6.displayName);\n  }\n}\n\nconst _c2 = function () {\n  return [\"/help\"];\n};\n\nconst _c3 = function () {\n  return [\"/aboutus\"];\n};\n\nconst _c4 = function () {\n  return [\"/useragreement\"];\n};\n\nconst _c5 = function () {\n  return [\"/privacypolicy\"];\n};\n\nexport let GlobalmenuComponent = /*#__PURE__*/(() => {\n  class GlobalmenuComponent {\n    constructor(translate, appsession, globalSource) {\n      this.translate = translate;\n      this.appsession = appsession;\n      this.globalSource = globalSource;\n      this.isLoggedIn = false;\n      this.alreadySetLanguage = false;\n    }\n\n    switchLanguage(language) {\n      this.currentDiplayLang = language.displayName;\n      this.appsession.setTranslateLang(language.lang);\n      this.switchedValueLang = language.lang;\n      this.loadData();\n    }\n\n    logOutUser() {\n      this.appsession.logOut();\n    }\n\n    ngOnInit() {\n      this.isLoggedIn = this.appsession.IsUserLoggedIn;\n      this.subsriptionIsUserLoggedIn = this.appsession.IsUserLoggedInChange.subscribe(value => {\n        this.isLoggedIn = value;\n      });\n      this.loadData();\n    }\n\n    loadData() {\n      if (this.availableLangs != null && this.availableLangs.length > 0) {\n        this.setLanguages();\n        return;\n      }\n\n      this.globalSource.getLanguages().subscribe(data => {\n        this.availableLangs = data;\n        this.globalSource.setAvailableLanguages(data);\n        this.setLanguages();\n      });\n    }\n\n    setLanguages() {\n      let langs = [];\n\n      if (this.switchedValueLang != null) {\n        langs = this.availableLangs.filter(x => x.lang == this.switchedValueLang);\n      } else {\n        langs = this.availableLangs.filter(x => x.lang == this.appsession.currentLanguage);\n      }\n\n      if (langs.length > 0) {\n        this.currentValueLang = langs[0].lang;\n        this.currentDiplayLang = langs[0].displayName;\n        this.alreadySetLanguage = true;\n      }\n    }\n\n    ngOnDestroy() {\n      this.subsriptionIsUserLoggedIn.unsubscribe();\n    }\n\n  }\n\n  GlobalmenuComponent.ɵfac = function GlobalmenuComponent_Factory(t) {\n    return new (t || GlobalmenuComponent)(i0.ɵɵdirectiveInject(i1.TranslateService), i0.ɵɵdirectiveInject(i2.AppsessionService), i0.ɵɵdirectiveInject(i3.GlobalService));\n  };\n\n  GlobalmenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: GlobalmenuComponent,\n    selectors: [[\"app-globalmenu\"]],\n    decls: 46,\n    vars: 37,\n    consts: [[1, \"ui-block-title\", \"ui-block-title-small\"], [1, \"title\"], [1, \"account-settings\"], [4, \"ngIf\"], [\"routerLinkActive\", \"linkActive\", 3, \"routerLink\"], [1, \"fa\", \"fa-2x\", \"fa-question-circle\", \"left-menu-icon\", \"olymp-star-icon\"], [1, \"ml-2\"], [1, \"about-olympus\"], [1, \"dropdown\"], [\"href\", \"#\", \"id\", \"dropdownMenuLink\", \"data-toggle\", \"dropdown\", \"aria-haspopup\", \"true\", \"aria-expanded\", \"false\", 1, \"\"], [1, \"fa\", \"fa-caret-down\"], [\"aria-labelledby\", \"dropdownMenuLink\", 1, \"dropdown-menu\", \"pl_10\"], [\"class\", \"dropdown-item\", \"style\", \"cursor:pointer;\", 3, \"hidden\", \"click\", 4, \"ngFor\", \"ngForOf\"], [2, \"border-top\", \"1px solid #e6ecf5\"], [1, \"fa\", \"fa-2x\", \"fa-wrench\", \"left-menu-icon\", \"olymp-star-icon\"], [3, \"routerLink\"], [1, \"fa\", \"fa-2x\", \"fa-sign-in\", \"left-menu-icon\", \"olymp-star-icon\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"fa\", \"fa-2x\", \"fa-sign-out\", \"left-menu-icon\", \"olymp-star-icon\"], [1, \"dropdown-item\", 2, \"cursor\", \"pointer\", 3, \"hidden\", \"click\"]],\n    template: function GlobalmenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h6\", 1);\n        i0.ɵɵtext(2);\n        i0.ɵɵpipe(3, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"ul\", 2);\n        i0.ɵɵtemplate(5, GlobalmenuComponent_li_5_Template, 6, 5, \"li\", 3);\n        i0.ɵɵtemplate(6, GlobalmenuComponent_li_6_Template, 6, 5, \"li\", 3);\n        i0.ɵɵelementStart(7, \"li\")(8, \"a\", 4);\n        i0.ɵɵelement(9, \"i\", 5);\n        i0.ɵɵelementStart(10, \"span\", 6);\n        i0.ɵɵtext(11);\n        i0.ɵɵpipe(12, \"translate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵtemplate(13, GlobalmenuComponent_li_13_Template, 6, 3, \"li\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 0)(15, \"h6\", 1);\n        i0.ɵɵtext(16);\n        i0.ɵɵpipe(17, \"translate\");\n        i0.ɵɵpipe(18, \"translate\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"ul\", 7)(20, \"li\")(21, \"div\", 8)(22, \"a\", 9);\n        i0.ɵɵtext(23);\n        i0.ɵɵelement(24, \"i\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"div\", 11);\n        i0.ɵɵtemplate(26, GlobalmenuComponent_a_26_Template, 2, 2, \"a\", 12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(27, \"li\")(28, \"a\", 4)(29, \"span\");\n        i0.ɵɵtext(30);\n        i0.ɵɵpipe(31, \"translate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(32, \"li\")(33, \"a\", 4)(34, \"span\");\n        i0.ɵɵtext(35);\n        i0.ɵɵpipe(36, \"translate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(37, \"li\")(38, \"a\", 4)(39, \"span\");\n        i0.ɵɵtext(40);\n        i0.ɵɵpipe(41, \"translate\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(42, \"li\", 13)(43, \"i\");\n        i0.ɵɵtext(44);\n        i0.ɵɵpipe(45, \"translate\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 17, \"YourAccount\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.isLoggedIn);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(33, _c2));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 19, \"Help\"));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.isLoggedIn);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(17, 21, \"About\"), \" \", i0.ɵɵpipeBind1(18, 23, \"CommiHub\"), \"\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\" \", ctx.currentDiplayLang, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.availableLangs);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(34, _c3));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 25, \"About\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(35, _c4));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(36, 27, \"Userterms\"));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(36, _c5));\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(41, 29, \"Privacy\"));\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(45, 31, \"AllRightReserved\"));\n      }\n    },\n    directives: [i4.NgIf, i5.RouterLinkWithHref, i5.RouterLinkActive, i4.NgForOf],\n    pipes: [i1.TranslatePipe],\n    encapsulation: 2\n  });\n  return GlobalmenuComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}